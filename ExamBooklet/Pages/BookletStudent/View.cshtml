@page
@model ExamBooklet.Pages.Booklet.ViewModel
@{
}
<br/>
@if (Model.errorMessage.Length > 0)
{
						<div class="alert alert-warning alert-dismissible fade show" role="alert">
							<strong>@Model.errorMessage</strong>
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
						</div>
}
<h2>List of Booklets</h2>
<script>
	function confirmLogout() {
  if (window.confirm("Are you sure you want to log out?")) {
	window.location.href = "/Accounts/StudentLogin"; // redirect to logout URL
  }
}
</script>
<a class='btn btn-primary btn-sm' href="/Booklet/Create">New Booklet Record</a> 
<div class="table-responsive-lg">
	<table class="table">
		<thead>
			<tr>
				<th>Booklet ID</th>
				<th>Student ID</th>
				<th>Student Name</th>
				<th>Faculty Name</th>
				<th>Department Name</th>
				<th>Course Code</th>
				<th>Course Name</th>
				<th>ExamDate</th>
				<th>Lecture Name</th>
				<th>Supervisor Name</th>
				<th>Marks</th>
				<th>Claim</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model.listBooklets)
			{
						<tr>
							<td>@item.BookletId</td>
							<td>@item.StudentId</td>
							<td>@item.StudentName</td>
							<td>@item.FacultyName</td>
							<td>@item.DepartmentName</td>
							<td>@item.CourseCode</td>
							<td>@item.CourseName</td>
							<td>@item.ExamDate</td>
							<td>@item.LectureName</td>
							<td>@item.SupervisorName</td>
							<td>@item.Marks</td>
							<td>@item.Claim</td>
							<td>
								@if (item.Marks != "Marks Not Available")
								{
									<a class="btn btn-primary btn-lg" href="/BookletStudent/Claim?BookletId=@item.BookletId">Make a Claim</a>
								}
								else
								{
									<button class="btn btn-primary btn-lg" disabled>Make a Claim</button>
								}
							</td>

						</tr>
			}
		</tbody>
	</table>
</div>

<button class='btn btn-danger' onclick="confirmLogout()">Logout</button> 